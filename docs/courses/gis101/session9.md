---
title: جلسه ۹ تحلیل فضایی

---

##  انواع روش‌های انتخاب (Selection)

در تب **Map** سه نوع انتخاب اصلی داریم:

1. **Select:** انتخاب محدوده موردنظر به صورت دستی  
2. **Select by Attribute:** انتخاب بر اساس ویژگی‌های توصیفی  
3. **Select by Location:** انتخاب بر اساس موقعیت مکانی

---
 ## متد‌های انتخاب کردن
 به صورت پیش‌فرض اینن متد روی **new selection** قرار دارد که با هر انتخاب جدید، انتخاب قبلی از بین می‌رود.
 ### انواع متد انتخاب
اگر داشته باشیم A و B
 1. New: B
 2. Add: AUB
 3. Remove: A-B
 4. Subset from: AاشتراکB

- در قسمت  **attribute table**، قسمت **select a field** را روی لیبل گذاشته و قسمت‌های بعدی را به پر می‌کنیم، برای مثال:
Label -> is equal to -> مسکونی
- به این بخش از اطلاعات پایگاه داده **query## گفته می‌شود که می‌تواند با استفاده از **add clause** چند جمله داشته باشد.
- روی  **add clause** کلیک کرده و بین "and" و "or" (و، یا، اجتماع و اشتراک) انتخاب می‌کنیم. برای مثال، هنگامی "or" را انتخاب می‌کنیم که بخواهیم قطعات مسکونی یا قطعات بیشتر از 500 متر را انتخاب کنیم. هنگامی از "and" استفاده می‌کنیم که بخواهیم قطعات مسکونی بالای 500 متر را نشان دهیم.
  ## انتخاب کردن در نقشه جمعیت
  پس از باز کردن نقشه جمعیت، در قسمت **select by attribute**، در قسمت فیلد "population" بیشتر از 500 را انتخاب می‌کنیم.
   یعنی فقط قطعات مسکونی که بزرگ‌تر از ۵۰۰ متر هستند.

##  انواع داده‌ها (Field Types)

| نوع داده | توضیح |
|-----------|--------|
| **Integer** | عدد صحیح (مثل 120) |
| **Float / Double** | عدد اعشاری (مثل 15.75) |
| **String / Text** | داده متنی (مثل "مسکونی") |

برای داده‌های متنی فقط برابری یا نابرابری معنا دارد،  
اما برای داده‌های عددی می‌توان از عملگرهای ریاضی استفاده کرد.

---

## تفاوت Null و 0

- به مقداری که محاسبه نشده است،  **null** می‌گوییم. این مقدار می‌تواند صفر یا هزار باشد.
- مقدار **0** مطمُن هستیم که صفر است. 

برای مثال در ستون جمعیت (Population)،  
اگر مقدار Null باشد یعنی هنوز داده‌ای وارد نشده،  
ولی اگر 0 باشد یعنی واقعاً بدون جمعیت است.

---

## محاسبه تراکم جمعیت (Density)

برای محاسبه تراکم جمعیت در هر حوزه:

1. در جدول حوزه‌ها (**Zones**) گزینه **Add Field** را انتخاب می‌کنیم.
 - نام: `Density`
 - نوع داده: `Float` یا `Double`
2. ذخیره می‌کنیم.
3. روی فیلد جدید (**Density**) راست‌کلیک کرده و **Calculate Field** را انتخاب می‌کنیم.
4. فرمول زیر را وارد می‌کنیم:
"Population/ (shape area/ 10000)

این فرمول یعنی جمعیت تقسیم بر مساحت به هکتار (هر هکتار = ۱۰٬۰۰۰ متر مربع).

---

##  خلاصه‌سازی انتخاب‌ها (Summarize)

برای فهمیدن تعداد یا مجموع عوارض انتخاب‌شده:
- کاربری مسکونی کمتر از 200 را انتخاب می‌کنیم.
1.  در  **attribute table**، روی فیلد **Label** راست‌کلیک کرده و **Summarize** را انتخاب می‌کنیم.
2. در قسمت پایین، فیلد دوم را روی **OBJECTID** تنظیم کرده و **Count** را فعال می‌کنیم.  
3. جدول خلاصه‌ای ساخته می‌شود که تعداد هر نوع کاربری را نشان می‌دهد.

---

## تعریف فیلتر دائم (Definition Query)

گاهی می‌خواهیم بدون ساخت لایه جدید و اکسپورت کردن، لایه خود را محدود کنیم.

### مراحل:
1. روی لایه‌ی نقشه (مثلاً *کاربری*) راست‌کلیک کرده و **Properties** را می‌زنیم.  
2. در تب **Definition Query** شرط موردنظر را می‌نویسیم.  
مثال: "shape area < 200"
3. نتیجه: لایه محدود به داده‌های فیلترشده می‌شود ولی لایه جدید ساخته نمی‌شود.

---

## دائمی کردن Selection

برای نگه داشتن انتخاب (Selection) در لایه دو راه داریم:

1. **Export Selected Features:**  
لایه‌ی جدید فقط از داده‌های انتخاب‌شده ساخته می‌شود. (روش سنتی)

2. **Add Field + Calculate Field:**  
با ایجاد فیلد جدید (مثلاً `Selected = 1`) می‌توان انتخاب را ذخیره کرد بدون نیاز به اکسپورت. (روش بهتر)

-  راه دوم بهتر است چون داده‌های اضافی تولید نمی‌کند و هر زمان بخواهیم می‌توانیم Selection را بازسازی کنیم.


