---
title: جلسه ۷-تحلیل موقعیت لایه‌ها
---
# جلسه14
# spatial join
تفاوت این گزینه با موارد بررسی شده در جلسه پیش این است که این مورد براساس موقعیت مکانی صورت میگیرد برخلاف add join که بر اساس اطلاعات جدول توصیفی صورت می‌گرفت.
برای اینکه بفهمیم چه تعداد بیمارستان در هر محله وجود دارد لایه بیمارستان را اد می‌کنیم، همانطور که مشخص است تنها ویژگی مشترک بیمارستان‌ها و لایه محلات موقعیت مکانی آنها است.
برای جوین کردن این دو روی لایه مقصد یعنی محلات راست کلیک می‌کنیم و گزینه add spatial join را انتخاب می‌کنیم و جوین فیچر را همان لایه مبدا یعنی بیمارستان را انتخاب می‌کنیم و می‌گذاریم intersect بماند ما فقط به فیلد join count نیاز داریم مانند جلسه قبل فیلدمان را با اسم hospital دائمی می‌کنیم.
برای به دست آوردن جمعیت هر محله هم درست مانند مورد قبل عمل می‌کنیم لایه بلوک جمعیتی را اد می‌کنیم و گزینه add spatial join را انتخاب می‌کنیم اما در پنجره باز شده قسمت فیلدز را می‌زنیم و همه موارد را حذف می‌کنیم و اد فیلدز را انتخاب می‌کنیم و جمعیت را تیک می‌زنیم  از پایین صفحه sum را انتخاب می‌کنیم و اوکی می‌کنیم و دائمی اش می‌کنیم و بقیه جوین‌ها را ریموو می‌کنیم.
![توضیح تصویر](https://i.postimg.cc/ZYWDYkF5/Screenshot-%28411%29.png)
حالا می‌خواهیم ببینیم بحرانی ترین محله کدام است:
اول باید بدانیم بحرانی ترین محله محله‌ای است که حریم گسل بیشترین، بیمارستان کمترین، و تراکم جمعیت در بیشترین حالت خودش باشد 
سپس برای هر کدام یک نقشه می‌سازیم و از یک طیف رنگی برای همه استفاده می‌کنیم. و برای تشخیص بهتر transparency را تغییر می‌دهیم و همه را روی یک مقدار قرار می‌دهیم.
![توضیح تصویر](https://i.postimg.cc/mrcFzSd3/Screenshot-%28413%29.png)
