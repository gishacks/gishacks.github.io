#  جلسه ۷: خلاصه‌سازی، تحلیل موقعیت

## ۱. خلاصه‌سازی داده‌ها (Summarize)
خلاصه‌سازی زمانی استفاده می‌شود که حجم زیادی از داده‌ها را داریم و می‌خواهیم به‌جای بررسی یکایک داده‌ها، اطلاعات کلی‌تر و تحلیلی‌تر به‌دست بیاوریم.  
**روش کار:** باز کردن جدول لایه مورد نظر / راست‌کلیک روی یکی از فیلدهای جدول / انتخاب گزینه **Summarize** / انتخاب جدول برای input / تعیین مکان ذخیره برای جدول خروجی (بطور پیش‌فرض در پروژه فعلی ذخیره می‌شود) / انتخاب فیلد مدنظر که قرار است روی آن محاسبات انجام شود / تعیین عملیات محاسبه در **Statistics Type** / در **Case field(s)** تعیین می‌کنیم که می‌خواهیم داده‌های کدام فیلد را با یکدیگر مقایسه کنیم / سپس **OK** را می‌زنیم.

**مثال خلاصه‌سازی تعداد:**  
روی فیلد **Label** راست‌کلیک می‌کنیم و **Summarize** را انتخاب می‌کنیم ![سامورایز کردن](https://i.postimg.cc/Dw61PmMy/Screenshot-368.png).  
در بخش **Input** لایه مورد نظر را انتخاب می‌کنیم / در بخش وسطی **OBJECTID** و **COUNT** قرار می‌دهیم / در بخش پایین فیلد **Label** را انتخاب می‌کنیم.

**مثال خلاصه‌سازی مساحت:**  
روی **Shape_Area** راست‌کلیک و مراحل مشابه / وسط: **Shape_Area** و **SUM** / پایین: **Label**.

## ۲. Visualize Statistics
این قابلیت به ما این امکان را می‌دهد که مثلا برای یک جدول، داده‌هایی مانند میانگین فیلد عددی، مجموع اعداد، انحراف از معیار، بزرگترین و کوچکترین داده را در یک بخش جداگانه ببینیم.  
**روش کار:** باز کردن جدول لایه مورد نظر / راست‌کلیک روی یکی از فیلدهای جدول / انتخاب گزینه **Visualize Statistics** ![visualize statistics](https://i.postimg.cc/8zp1MCv7/Screenshot-367.png).

## ۳. افزودن فیلد جدید و Calculate Field
گاهی برای جدول‌مان نیاز به یک ستون نو داریم که داده‌هایش از طریق محاسبات ریاضی روی داده‌های دیگر بوجود می‌آید.  
**مراحل:** باز کردن جدول / در گوشه سمت چپ بالای جدول، گزینه **Add** را می‌زنیم / در **Field Name** و **Alias** نام مورد نظر را می‌گذاریم.

**انواع Data Type مهم:**  
- **Short/Long**: برای اعداد صحیح کوتاه و بلند  
- **Float/Double**: برای اعداد اعشاری (Double برای دامنه‌های بزرگ‌تر)  
- **Text**: برای کلمات  
- **Date**: برای تاریخ  

**پر کردن فیلد با محاسبات:** روی فیلد جدید کلیک‌راست / **Calculate Field** / از قسمت **Fields** فیلد مورد نظر را انتخاب و دوبار کلیک / با علامت‌های ریاضی در **Helpers** محاسبات را انجام می‌دهیم / **Apply** و **OK**.

## ۴. محاسبه درصد در جدول Summarize
در جدول ساخته‌شده: **Add Field** (نام انگلیسی، Data Type: **Float**) / **Calculate Field** ![محاسبه درصد](https://i.postimg.cc/N0V9dX7Y/Screenshot-369.png).  
**فرمول درصد:** `percent = (مساحت هر کاربری / مجموع مساحت‌ها) * 100`.  
از **Visualize Statistics** مجموع مساحت‌ها را پیدا می‌کنیم.

## ۵. تنظیمات جدول پس از Summarize
وقتی جدول باز است: تب **Table** / **Fields** / **Alias** برای تغییر نام ستون‌ها.  
**Number Format** > **Numeric** > **Rounding** برای کنترل اعشار مساحت.  
در **Layout** از **Table Frame** استفاده.

## ۶. گزینه‌های نمایش عارضه با جدول
در Attribute Table:  
- **Flash**: عارضه روی نقشه چشمک می‌زند  
- **Zoom to**: مستقیم به عارضه زوم می‌شود  
- **Pan to**: زوم + چشمک  

**ستون‌های ثابت:** **OBJECTID** و **Shape** (با ستاره) در تمام جداول. تعداد عارضه‌ها در پایین صفحه در بخش **Selected** قابل مشاهده است.

## ۷. تهیه گزارش از جدول (Report)
برای گرفتن خروجی مناسب از داده‌های آماری در یک صفحه:  
**روش:** تب **Insert** / **New Report** / تنظیمات و **Next** / **Finish** / **Contents** برای تغییرات نهایی / راست‌کلیک روی **Details**، **Page Footer** و **Properties** برای فونت و سایز / تب **Share** > **Export Report**.

## ۸. خروجی جدول به Excel
تب **Analysis** / **Geoprocessing** / جستجوی **Table to Excel** / خروجی به Excel.

## ۹. ارائه با Presentation
تب **Insert** / **New Presentation** / **Contents** > **Insert Page** / اضافه کردن نقشه یا Layout / اسلایدها، **Transition**، عنوان و متن مانند PowerPoint.

## ۱۰. Analysis Tools – Proximity
**TOOLS** برای محدوده‌دهی و انتخاب‌های خاص. **Analysis Tools** شامل: **Extract**, **Overlay**, **Proximity**, **Statistics**.

### Buffer
لایه گسل / **Analysis** > **Tools** > **Buffer** / **Input Features**: گسل‌ها / **Distance**: 150 متر / خروجی.

### Multiple Ring Buffer
چندین زون: 150، 350، 500 متری اطراف گسل.

## ۱۱. Overlay – Identity
**Identity** خطوط مرزی یک لایه را روی لایه دیگر: **Input Features**: زون گسل / **Identity Features**: محلات / خروجی.

## ۱۲. کار عملی: درصد محله روی زون گسل
**روش انتخابی:** زون گسل از محلات برش / **Summarize** زون گسل (SUM بر اساس ID محله) / **Join** به جدول اصلی / ستون درصد (Float) / **Calculate**: `(مساحت_زون / مساحت_کل_محله) * 100`.

**کد شرطی پیشرفته:** NULL برای بدون اطلاعات، درصد برای موارد دارای داده.
