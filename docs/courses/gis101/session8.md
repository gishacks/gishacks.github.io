---
title: جلسه ۸ - تحلیل مطلوبیت
# جلسه 2 آذر: مقدمات تحلیل مطلوبیت و ModelBuilder

تحلیل مطلوبیت یکی از روش‌های پایه‌ای در ارزیابی‌های مکانی است که با استفاده از مجموعه‌ای از معیارها، شرایط موجود را بررسی کرده و میزان مناسب‌ بودن هر موقعیت را برای هدف موردنظر مشخص می‌کند. این تحلیل بر اساس یک روند سیستماتیک انجام می‌شود و هر مرحله مبتنی بر تعریف معیارها، استانداردسازی داده‌ها و ترکیب آن‌هاست. به طور کلی، مراحل اصلی تحلیل مطلوبیت به شرح زیر است:
1)    تعیین معیارها:
هر تحلیل مطلوبیتی ابتدا با انتخاب معیارهای مؤثر آغاز می‌شود. این معیارها مشخص می‌کنند که چه داده‌ها و چه عواملی در ارزیابی نقش دارند. معیارها باید قابل‌اندازه‌گیری و مرتبط با هدف تحلیل باشند.

2)    امتیازدهی به معیارها (خط‌کش مطلوبیت):
پس از انتخاب معیارها، باید برای هر معیار یک مقیاس مطلوبیت تعریف شود؛ یعنی مشخص کنیم که مطلوب‌ترین مورد موجود و ممکن کدام است و کمترین مطلوبیت مربوط به کدام مقدار است. در واقع، برای هر معیار یک «خط‌کش» ساخته می‌شود تا داده‌ها نسبت به آن استانداردسازی و قابل مقایسه شوند.

3)    وزن‌دهی به معیارها:
از آنجا که همه معیارها اهمیت یکسان ندارند، لازم است برای هر معیار وزن یا درجه اهمیت تعیین شود. وزن‌دهی مشخص می‌کند کدام معیار تأثیر بیشتری در نتیجه نهایی دارد و کدام‌یک نقش کمتری ایفا می‌کند.

4)    روی‌هم‌اندازی(Overlay):
در مرحله نهایی، تمام معیارهای امتیازدهی‌شده و وزن‌دهی‌شده روی هم انداخته می‌شوند تا نقشه نهایی مطلوبیت تولید شود. این مرحله نتیجه نهایی تحلیل مطلوبیت را نمایش می‌دهد و نشان می‌دهد کدام مناطق مناسب‌تر یا نامناسب‌تر هستند.

# استفاده از ModelBuilder:
برای تثبیت معیارها از این ابزار استفاده می‌کنیم. وارد تب Analysis می‌شویم و Model Builder را انتخاب می‌کنیم؛ محیط جدیدی که ایجاد شده، همان محیطی است که فرآیندها را بصری می‌سازیم.

## 1-   قوانین نمادگذاری در ModelBuilder (برای خوانایی مدل)

### ·        بیضی‌ها نشان‌دهنده ورودی‌ها و خروجی‌ها هستند.
### ·       مستطیل‌ها نشان‌دهنده دستورها/ ابزارها هستند.

**رنگ‌ها:**
ورودی: آبی
دستور (ابزار): زرد  
خروجی:سبز

## 2-   افزودن ابزارها و داده‌ها به مدل

### ·       از Toolbox ابزار Buffer (یا هر ابزار موردنظر) را درگ و داخل پنجره ModelBuilder رها می‌کنیم.

### ·       برای باز کردن پارامترهای ابزار در مدل، دوبار روی مستطیلِ ابزار کلیک می‌کنیم تا پنجره تنظیمات باز شود.

ورودی‌ها (Inputs) را مشخص می‌کنیم:

### ·        Input Feature: لایه‌ای که قبلاً بارگذاری شده (مثلاً لایه «گسل»).
### ·        پارامترهای دیگر (مثلاً فاصله بافر) را تنظیم می‌کنیم.

اگر نیاز به افزودن لایه دیگری مثل Identity Feature یا لایه محلات هست، ابزار Identity را هم از Toolbox داخل مدل درگ و پارامترهای آن را تنظیم می‌کنیم:

### ·       Input = خروجی/لایه قبلی یا همان «گسل-بافر»
### ·       Identity Feature = لایه «محلات»

**مرتب‌سازی خودکار دیاگرام:** در تب Diagram (در بالای پنجره ModelBuilder) گزینه Auto Layout را می‌زنیم تا مدل به‌صورت مرتب چیده شود و اتصال‌ها منظم شوند.

## 3-   اجرای مدل یا اجرای گام‌به‌گام
برای اجرای یک ابزار یا کل مدل، روی مستطیل (یا روی مدل) راست‌کلیک کرده و Run را انتخاب می‌کنیم. وقتی ابزار اجرا شد، زیر دستورها و خروجی‌ها سایه می‌افتد که این نشانه اجرای موفقیت‌آمیز است.
برای فرایندهای طولانی، بهتر است از ModelBuilder استفاده کنیم چون:

### ·        می‌توانیم کل گردش کار را ذخیره و دوباره اجرا کنیم.
### ·        اجرای گام‌به‌گام و کنترل بهتری بر خروجی‌ها داریم.
### ·       در صورت مواجهه با مشکل یا اشتباه انجام دادن یک مرحله، لازم نیست از ابتدا همه مراحل را تکرار کنیم.

**نکته مهم در مورد اثرگذاری روی لایه مقصد:**
وقتی ModelBuilder عملیات‌هایی مثل Join، Buffer، Identity و… را اجرا می‌کند، معمولاً لایه مقصد اصلی را تغییر مستقیم نمی‌دهد؛ بلکه لایه جدیدی می‌سازد (output feature class).
**برای دیدن نتایج:**
### ·        در ModelBuilder یا پنل خروجی، خروجی ساخته‌شده را Add To Display می‌کنیم.
### ·        سپس Attribute Table آن لایه را باز می‌کنیم تا داده‌ها و فیلدهای جدید را قابل مشاهده شوند.---
