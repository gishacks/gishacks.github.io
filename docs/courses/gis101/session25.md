title: جلسه 25

### داده‌های موردنیاز در پروژه‌های شهرسازی
- راه‌ها  
- پارسل‌ها  
- بلوک‌های جمعیتی  
- داده‌های محیطی (مثل گسل‌ها)  
- داده‌های ارتفاعی (نقاط ارتفاعی / DEM)

**داده‌های اصلی و ضروری:**
- راه‌ها  
- پارسل‌ها  
- بلوک‌های جمعیتی  
- نقاط ارتفاعی  

---

### منابع تهیه داده
- **مرکز آمار**
  - دریافت بلوک‌های جمعیتی
- **سازمان نقشه‌برداری**
  - تولید فایل‌های CAD با دیجیتالایز تصاویر ماهواره‌ای
  - نقشه‌های مقیاس 1:25000 (جزئیاتی مثل درخت‌ها مشخص نیست)
  - مقیاس‌ها:
    - شهرسازی: 1:2000  
    - طراحی شهری: 1:500  

- استفاده از **سامانه رسا** سازمان نقشه‌برداری برای خرید داده‌ها  
  - در بخش پایین سایت:
    - آموزش سامانه  
    - معرفی سامانه  
  - هر دو بخش باز می‌شوند تا نحوه استفاده از داده‌ها توضیح داده شود  
  - (این روش نسبتاً قدیمی است)

---

### مرحله اول پروژه
- جمع‌آوری داده‌های موجود  
  - مثل پایگاه اطلاعات مکانی فعلی

#### به‌روزرسانی داده‌ها
- اضافه‌کردن:
  - فایل راه‌ها  
  - پارسل‌ها (کاربری‌های موجود)  
  - بلوک‌های جمعیتی  

---

### آماده‌سازی داده‌ها برای کارگاه
- ابتدا محدوده موردنظر مشخص می‌شود (مثلاً **منطقه ۶**)
- فایل مناطق را باز می‌کنیم
- محدوده انتخابی را **Export** می‌گیریم
- در **Geodatabase** ذخیره می‌کنیم با نام:
  - `extent`
- استفاده از **اسم‌های معنادار** الزامی است
- تمام لایه‌ها باید داخل **یک Geodatabase** ذخیره شوند
- با ابزار **Select by Location**:
  - همه داده‌ها را به محدوده منطقه ۶ محدود می‌کنیم
- برای هر لایه جداگانه انجام می‌شود و نام‌گذاری صحیح:
  - `parcels`
  - `roads`
  - `popblocks`
- هنگام Rename:
  - نباید بین حروف فاصله بگذاریم.

**در نهایت Geodatabase شامل ۴ لایه است:**
- extent  
- roads  
- parcels  
- popblocks  

- فقط فایل‌های Export شده نگه داشته می‌شوند
- بقیه فایل‌ها حذف می‌شوند

---

### به‌روزرسانی نقشه با برداشت میدانی
- مبنای برداشت: **پارسل‌ها**

#### ملزومات برداشت
1. **فرم برداشت**
2. **نقشه برداشت**

---

### فرم برداشت
- شامل:
  - یک کد
  - ستون‌های اطلاعاتی (مثلاً):
    - کاربری
    - تعداد طبقات
    - تعداد واحد
    - نما
    - کیفیت
- فرم ابتدا در **Word** طراحی می‌شود
- پس از برداشت:
  - داده‌ها باید در **Excel** وارد شوند

---

### نقشه برداشت
- دو حالت:
  - نقشه خام → برداشتگر خودش کدگذاری می‌کند
  - نقشه کددار → ترجیحاً بهتر
- در نقشه:
  - معابر + کد آن‌ها نیز مشخص باشند

---

### تهیه نقشه بلوک در GIS
1. فقط لایه **Parcels** را روشن می‌کنیم
2. جدول پارسل‌ها را باز می‌کنیم
3. **Object ID** هر پارسل = شناسه پارسل
4. ساخت فیلد جدید:
   - نام: `pid`
   - نوع: Integer
5. محاسبه (Calculate):
   - مقدار `Object ID` → فیلد `pid`

---

### نمایش کد پارسل‌ها روی نقشه
1. راست‌کلیک روی لایه Parcels  
2. **Labeling Properties**
3. پاک‌کردن Expression  
4. Apply
5. دوباره راست‌کلیک روی لایه  
6. فعال‌کردن **Label**

---

### آماده‌سازی نقشه برای برداشتگر
- از تب **Insert**:
  - گزینه **New Layout**
- اضافه‌کردن نقشه از **Map Frame**
- برای خوانایی:
  - مقیاس لیبل‌ها: **1:1000**

---

### تهیه نقشه برداشت برای کل منطقه ۶
- از تب **Insert**:
  - Map Series
  - نوع: Spatial
- Layer:
  - `popblocks`
- Name Field:
  - همان `ID`
- با زدن OK:
  - به تعداد بلوک‌های جمعیتی، نقشه خروجی تولید می‌شود
