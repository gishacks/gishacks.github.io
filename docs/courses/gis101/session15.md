---
title: جلسه 15
---
# استفاده از **Relate و Label در GIS**


- وقتی **دو جدول** داریم که می‌خواهیم **براساس یک فیلد مشترک** به هم مرتبط شوند، از **Relate** استفاده می‌کنیم.
- جدول حوزه و بلوک جمعیت 75 را باز می‌کنیم. 
  - **جدول بلوک** → شامل *کد بلوک، محله، …*  
  - **جدول حوزه (census zone)** → شامل *کد حوزه و اطلاعات جمعیتی*  


### ایجاد Relate
1. روی یکی از لایه‌ها **Right Click** می‌کنیم. (در `relation` فرقی ندارد کدام اول باشد.) 
2. گزینه **Add Relate** را می‌زنیم.  
3. دو فیلد را مشخص می‌کنیم:
   - **Input Relate Field** → حوزه 
   - **Output Relate Field** → censuszone 
4. معمولاً فیلد مشترک: **censuszone**

### دیدن داده‌های مرتبط
- وقتی یک رکورد را در جدول انتخاب می‌کنیم → در منوی سه‌خط بالای جدول، بخش **Related Data** فعال می‌شود.
- روی یک نقطه در نقشه کلیک می‌کنیم → در *popup* یک آیکون مثلثی وجود دارد که اجازه می‌دهد Attribute بلوک‌هایی که داخل آن حوزه هستند را ببینیم.
- در کارهای شخصی معمولاً `Relate` لازم نیست، اما اگر خروجی را برای **وب‌اپلیکیشن یا کاربران دیگر** منتشر کنیم، Relate اهمیت زیادی پیدا می‌کند.  
- مثلاً صفحه منطقه ۶ را که باز می‌کنیم، باید **اسم و جمعیت محله‌ها** دیده شود.  
- از **Join** خیلی بیشتر از **Relate** استفاده می‌شود.

---

##  بحث Label
ما قبلاً با **Symbology** اطلاعات را نمایش می‌دادیم،  
اما یک روش دیگر نوشتن متن در نقشه (Label) است.

### فعال‌کردن Label
- روی لایه (مثلاً حوزه) **Right Click → Label Properties**
- می‌توانیم تعیین کنیم چه فیلدی لیبل شود.
- مثال: در `Expression` به‌جای **censuszone** می‌گذاریم **population**.
- کاربرد: می‌توانیم در نقشه‌ها کاربری را با رنگ و تعداد طبقات را با لیبل نشان دهیم.

### استفاده از SQL 
- مسیر: **Labeling tab → SQL → New Expression**
- مثال کاربرد: فقط مساحت‌های بزرگتر از ۱۰٬۰۰۰ متر مربع (۱ هکتار) لیبل بخورند.
- سمت راست SQL یک آیکون مقیاس وجود دارد → تعیین می‌کند در چه **Scale Range** لیبل نمایش داده شود.
- لیبل از `symbology` حرفه‌ای‌تر است.  
- قابلیت تعریف چند **Clause**  
- دارای **Symbol** و **Position** برای کنترل ظاهر و جای متن
- گزینه `symbol` برای کنترل ویژگی‌های نمایش مانند فونت، اندازه، رنگ و... است.

---

## تنظیمات Label فارسی
- در بخش **Symbol → Formatting → Paragraph**  
  → همه تیک‌ها روشن باشد.  
- در **Internationalization** گزینه **Right to Left** فعال شود.
